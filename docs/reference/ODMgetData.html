<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Query an ODM database — ODMgetData • ODMr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Query an ODM database — ODMgetData" />

<meta property="og:description" content="The function ODMselect can be used to get data from ODM database. ODMselect
returns a data frame containing the required columns for working with ODM data." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ODMr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ODMr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ODM_notes.html">ODM notes</a>
    </li>
    <li>
      <a href="../articles/Woking_ODMr.html">Working with ODMr</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Query an ODM database</h1>
    
    <div class="hidden name"><code>ODMgetData.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The function ODMselect can be used to get data from ODM database. ODMselect
returns a data frame containing the required columns for working with ODM data.</p>
    
    </div>

    <pre class="usage"><span class='fu'>ODMgetData</span>(<span class='no'>SiteID_</span>, <span class='no'>VariableID_</span>, <span class='no'>MethodID_</span>, <span class='no'>QualityControlLevelID_</span>,
  <span class='kw'>AggregateBy</span> <span class='kw'>=</span> <span class='st'>"day"</span>, <span class='kw'>FUN</span> <span class='kw'>=</span> <span class='st'>"mean"</span>, <span class='kw'>startDate</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>endDate</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>channel</span> <span class='kw'>=</span> <span class='no'>ODM</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>AggregateBy</th>
      <td><p>aggregation level to include in SQL query. Either hour,
day, month, year or none</p></td>
    </tr>
    <tr>
      <th>FUN</th>
      <td><p>function to aggregate by. Either min, max, mean, or sum</p></td>
    </tr>
    <tr>
      <th>startDate</th>
      <td><p>access data from this date forward</p></td>
    </tr>
    <tr>
      <th>endDate</th>
      <td><p>access data up to this date</p></td>
    </tr>
    <tr>
      <th>channel</th>
      <td><p>connection handle as returned by odbcConnect</p></td>
    </tr>
    <tr>
      <th>SeriesID</th>
      <td><p>index value for a specific record within the series catalog</p></td>
    </tr>
    <tr>
      <th>SiteID</th>
      <td><p>index value for the location at which the observation was made</p></td>
    </tr>
    <tr>
      <th>VariableID</th>
      <td><p>index value for the variable that the data represents</p></td>
    </tr>
    <tr>
      <th>MethodID</th>
      <td><p>index value for the method used to collect the observation</p></td>
    </tr>
    <tr>
      <th>QualityCControlLevelID</th>
      <td><p>the level of quality control processing</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A standard SQL query is issued to the ODM database and the values are
returned. The data returned can be limited by a start
and/or end date defined by the user. Smaller datasets can speed up the
workflow especially when visualising data.</p>
<p>Data series from the catalog may be specified using the series catalog
ID. Since the series catalog is not stable through time you may also query the
database by specifying SiteID, VariableID and MethodID.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># Establish connection with database</span>
<span class='no'>ODM</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>odbc</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/odbc/topics/dbConnect-OdbcDriver-method'>dbConnect</a></span>(<span class='kw pkg'>odbc</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/odbc/topics/odbc'>odbc</a></span>(), <span class='kw'>dsn</span> <span class='kw'>=</span> <span class='st'>"ODM"</span>, <span class='kw'>database</span> <span class='kw'>=</span> <span class='st'>"OD"</span>,
 <span class='kw'>UID</span> <span class='kw'>=</span> <span class='st'>"update"</span>, <span class='kw'>PWD</span> <span class='kw'>=</span> <span class='kw pkg'>rstudioapi</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/rstudioapi/topics/askForPassword'>askForPassword</a></span>(<span class='st'>"Database password"</span>),
 <span class='kw'>Port</span> <span class='kw'>=</span> <span class='fl'>1433</span>)

<span class='co'># Extract data by site, variable, method and QC level. Clear and consistent</span>
<span class='co'># method to extract data.</span>
<span class='no'>tmp</span> <span class='kw'>&lt;-</span> <span class='fu'>ODMgetData</span>(<span class='kw'>SiteID</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>VariableID</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>MethodID</span> <span class='kw'>=</span> <span class='fl'>9</span>,
 <span class='kw'>QualityCcontrolLevelID</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>startDate</span> <span class='kw'>=</span> <span class='st'>"2013-06-01"</span>, <span class='kw'>endDate</span> <span class='kw'>=</span> <span class='st'>"2013-07-01"</span>,
 <span class='kw'>channel</span> <span class='kw'>=</span> <span class='no'>ODM</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Chris McConnell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

